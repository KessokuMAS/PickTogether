<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>POS ì‹œìŠ¤í…œ - QR ì½”ë“œ ìŠ¤ìº”</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f5f5f5;
            color: #333;
        }
        
        .header {
            background: #2c3e50;
            color: white;
            padding: 20px;
            text-align: center;
        }
        
        .restaurant-name {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .pos-title {
            font-size: 14px;
            opacity: 0.8;
        }
        
        .order-card {
            background: white;
            margin: 20px;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        .order-info {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .info-item {
            text-align: center;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 10px;
        }
        
        .info-label {
            font-size: 12px;
            color: #666;
            margin-bottom: 5px;
        }
        
        .info-value {
            font-size: 18px;
            font-weight: bold;
        }
        
        .amount {
            color: #e74c3c;
        }
        
        .qr-scan-area {
            background: linear-gradient(135deg, #e8f5e8, #d4edda);
            border: 3px dashed #27ae60;
            border-radius: 20px;
            padding: 40px 20px;
            text-align: center;
            margin: 20px 0;
            position: relative;
        }
        
        .qr-icon {
            font-size: 60px;
            margin-bottom: 15px;
            animation: pulse 2s infinite;
        }
        
        .scan-text {
            font-size: 18px;
            font-weight: bold;
            color: #27ae60;
            margin-bottom: 10px;
        }
        
        .scan-subtext {
            font-size: 14px;
            color: #666;
        }
        
        .scan-button {
            background: #3498db;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 16px;
            font-weight: bold;
            margin: 20px;
            width: calc(100% - 40px);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .scan-button:hover {
            background: #2980b9;
            transform: translateY(-2px);
        }
        
        .scan-button:active {
            transform: translateY(0);
        }
        
        .status-bar {
            background: #ecf0f1;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            margin-top: 20px;
        }
        
        .status-text {
            font-size: 16px;
            font-weight: bold;
            color: #2c3e50;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="restaurant-name" id="restaurantName">ë§›ìˆëŠ” ì‹ë‹¹</div>
        <div class="pos-title">POS ì‹œìŠ¤í…œ - QR ì½”ë“œ ìŠ¤ìº”</div>
    </div>
    
    <div class="order-card">
        <div class="order-info">
            <div class="info-item">
                <div class="info-label">ì£¼ë¬¸ë²ˆí˜¸</div>
                <div class="info-value" id="orderId">12345</div>
            </div>
            <div class="info-item">
                <div class="info-label">ê²°ì œê¸ˆì•¡</div>
                <div class="info-value amount" id="amount">15,000ì›</div>
            </div>
            <div class="info-item">
                <div class="info-label">ê²°ì œìˆ˜ë‹¨</div>
                <div class="info-value" id="paymentMethod">ì¹´ì¹´ì˜¤í˜ì´</div>
            </div>
            <div class="info-item">
                <div class="info-label">ê²°ì œì‹œê°„</div>
                <div class="info-value" id="paymentTime">14:30</div>
            </div>
        </div>
        
        <div class="qr-scan-area" id="qrScanArea">
            <div class="qr-icon">ğŸ“±</div>
            <div class="scan-text">QR ì½”ë“œë¥¼ ìŠ¤ìº”í•˜ì„¸ìš”</div>
            <div class="scan-subtext">ì•„ë˜ ë²„íŠ¼ì„ ëˆŒëŸ¬ QR ìŠ¤ìº”ì„ ì‹œì‘í•˜ì„¸ìš”</div>
        </div>
        
        <div class="status-bar">
            <div class="status-text" id="statusText">ëŒ€ê¸°ì¤‘</div>
        </div>
        
        <button class="scan-button" onclick="openQRScanner()">
            ï¿½ï¿½ QR ì½”ë“œ ìŠ¤ìº”í•˜ê¸°
        </button>
    </div>
    
    <script>
        // URL íŒŒë¼ë¯¸í„°ì—ì„œ ì£¼ë¬¸ ì •ë³´ ê°€ì ¸ì˜¤ê¸°
        const urlParams = new URLSearchParams(window.location.search);
        
        // ê¸°ë³¸ê°’ ì„¤ì •
        const orderId = urlParams.get('orderId') || '12345';
        const amount = urlParams.get('amount') || '15000';
        const paymentMethod = urlParams.get('paymentMethod') || 'ì¹´ì¹´ì˜¤í˜ì´';
        const restaurantName = urlParams.get('restaurantName') || 'ë§›ìˆëŠ” ì‹ë‹¹';
        
        // í™”ë©´ì— ì •ë³´ í‘œì‹œ
        document.getElementById('orderId').textContent = orderId;
        document.getElementById('amount').textContent = parseInt(amount).toLocaleString() + 'ì›';
        document.getElementById('paymentMethod').textContent = paymentMethod;
        document.getElementById('restaurantName').textContent = restaurantName;
        document.getElementById('paymentTime').textContent = new Date().toLocaleTimeString('ko-KR', {
            hour: '2-digit',
            minute: '2-digit'
        });
        
        // QR ìŠ¤ìº” ì•± ì‹¤í–‰
        function openQRScanner() {
            const statusText = document.getElementById('statusText');
            const scanButton = document.getElementById('scanButton');
            
            // ìƒíƒœ ë³€ê²½
            statusText.textContent = 'QR ìŠ¤ìº” ì•± ì‹¤í–‰ ì¤‘...';
            scanButton.disabled = true;
            scanButton.textContent = 'ì‹¤í–‰ ì¤‘...';
            
            try {
                // QR ìŠ¤ìº” ì•± ì‹¤í–‰ ì‹œë„
                const intentUrl = 'intent://qr.scan/#Intent;package=com.qr.scan;S.browser_fallback_url=https://play.google.com/store/apps/details?id=com.qr.scan;end';
                window.location.href = intentUrl;
                
                // 3ì´ˆ í›„ ì•±ì´ ì‹¤í–‰ë˜ì§€ ì•Šì•˜ìœ¼ë©´ ìŠ¤í† ì–´ë¡œ ì´ë™
                setTimeout(() => {
                    if (document.hidden) return; // ì•±ì´ ì‹¤í–‰ë˜ì—ˆìœ¼ë©´ ì¤‘ë‹¨
                    
                    // QR ìŠ¤ìº” ì•±ì´ ì—†ìœ¼ë©´ ìŠ¤í† ì–´ë¡œ ì´ë™
                    const fallbackUrl = 'https://play.google.com/store/search?q=qr%20scanner';
                    if (confirm('QR ìŠ¤ìº” ì•±ì´ ì„¤ì¹˜ë˜ì–´ ìˆì§€ ì•ŠìŠµë‹ˆë‹¤. ìŠ¤í† ì–´ì—ì„œ ì„¤ì¹˜í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                        window.open(fallbackUrl, '_blank');
                    }
                    
                    // ë²„íŠ¼ ìƒíƒœ ë³µêµ¬
                    scanButton.disabled = false;
                    scanButton.textContent = 'ğŸ“± QR ì½”ë“œ ìŠ¤ìº”í•˜ê¸°';
                    statusText.textContent = 'ëŒ€ê¸°ì¤‘';
                }, 3000);
                
            } catch (error) {
                // ì—ëŸ¬ ë°œìƒ ì‹œ ìŠ¤í† ì–´ë¡œ ì´ë™
                const fallbackUrl = 'https://play.google.com/store/search?q=qr%20scanner';
                if (confirm('QR ìŠ¤ìº” ì•±ì„ ì‹¤í–‰í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ìŠ¤í† ì–´ì—ì„œ ì„¤ì¹˜í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                    window.open(fallbackUrl, '_blank');
                }
                
                // ë²„íŠ¼ ìƒíƒœ ë³µêµ¬
                scanButton.disabled = false;
                scanButton.textContent = 'ğŸ“± QR ì½”ë“œ ìŠ¤ìº”í•˜ê¸°';
                statusText.textContent = 'ëŒ€ê¸°ì¤‘';
            }
        }
    </script>
</body>
</html>